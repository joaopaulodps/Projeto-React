{"version":3,"sources":["App.js","index.js"],"names":["List","useState","usuarios","setUsuarios","showModal","setShowModal","showTransacao","setShowTransacao","usuarioSelecionado","setUsuarioSelecionado","pagamento","setPagamento","selecionaCartao","setSelecionaCartao","transacao","setTransacao","cards","card_number","cvv","expiry_date","useEffect","axios","get","then","resp","data","className","style","display","onClick","color","name","onSubmit","evt","preventDefault","dadosTransacao","id","post","body","status","type","placeholder","value","onChange","e","target","required","map","card","i","substr","margin","padding","u","index","src","img","username","mostraModal","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.e959fcb3.chunk.js","sourcesContent":["import axios from 'axios'\r\nimport React, { useEffect, useState } from 'react'\r\nimport './App.css'\r\n\r\n//Função de listar usuários na página inicial\r\nexport default function List(){\r\nlet [usuarios, setUsuarios] = useState([])\r\nlet [showModal, setShowModal] = useState(false)\r\nlet [showTransacao, setShowTransacao] = useState(false)\r\nlet [usuarioSelecionado, setUsuarioSelecionado] = useState({})\r\nlet [pagamento, setPagamento] = useState('')\r\nlet [selecionaCartao, setSelecionaCartao] = useState('')\r\nlet [transacao, setTransacao] = useState('')\r\n\r\nlet cards = [\r\n    // valid card\r\n    {\r\n      card_number: '1111111111111111',\r\n      cvv: 789,\r\n      expiry_date: '01/18',\r\n    },\r\n    // invalid card\r\n    {\r\n      card_number: '4111111111111234',\r\n      cvv: 123,\r\n      expiry_date: '01/20',\r\n    }    \r\n  ];\r\n\r\n\r\n{/*Pegando dados dos usuários na API*/}\r\n    useEffect(() =>{\r\n        axios.get('https://www.mocky.io/v2/5d531c4f2e0000620081ddce', {\r\n\r\n        }).then((resp) => {\r\n            setUsuarios(resp.data)\r\n        })\r\n    }, [])\r\n\r\nlet mostraModal = (u) => {\r\n setShowModal(true)\r\n setUsuarioSelecionado(u)\r\n}\r\n\r\nconst resetForm = () => {\r\n    setPagamento('')\r\n    setSelecionaCartao('')\r\n    setShowTransacao(false)\r\n}\r\n\r\n{/*Envio da transação*/}\r\nconst enviar= (evt) => {\r\n    evt.preventDefault(evt)\r\n    resetForm()\r\n\r\n    const dadosTransacao = {\r\n        \"card_number\": cards[selecionaCartao].card_number,\r\n        \"cvv\": cards[selecionaCartao]?.cvv,\r\n        \"expiry_date\": cards[selecionaCartao]?.expiry_date,\r\n        \"destination_user_id\": usuarioSelecionado.id,\r\n        \"value\": pagamento\r\n    }\r\n\r\n{axios.post(\"https://run.mocky.io/v3/533cd5d7-63d3-4488-bf8d-4bb8c751c989\", {\r\n   body: dadosTransacao\r\n}).then((resp)=> {\r\n   // console.log(resp.data)\r\n    if (resp.data.status === \"Aprovada\") {\r\n        setTransacao(\"O pagamento foi concluído com sucesso!\")\r\n    } else {\r\n        setTransacao(\"O pagamento NÂO foi concluído com sucesso!\")\r\n    }\r\n    setShowTransacao(true)\r\n    })\r\n}}\r\n\r\n    return (\r\n        <>\r\n        <div>\r\n            {/*Backdrop*/}\r\n            <div className=\"backdrop\" style={{display : (showModal ? 'block' : 'none')}}\r\n            onClick={() => setShowModal(false)}>\r\n            </div>\r\n            <div className=\"backdrop\" style={{display : (showTransacao ? 'block' : 'none')}} \r\n            onClick={() => setShowTransacao(false)}>\r\n            </div>\r\n\r\n            {/*Modal de pagamento*/}\r\n                <div className=\"modalPagamento\" style={{display : (showModal ? 'block' : 'none')}}>\r\n                    <div className=\"titulo\">\r\n                        <div className=\"cabecalho\">\r\n                            Pagamento para <span style={{color:'yellow'}}>{usuarioSelecionado.name}</span>\r\n                        </div>\r\n                    </div>\r\n                    <form className=\"selectUsuario\" onSubmit={enviar}>\r\n\r\n                        <input className=\"valorTransf\" type={\"number\"} placeholder={\"R$ 0,00\"}\r\n                        value={pagamento} onChange={ e => setPagamento(e.target.value)}/>\r\n\r\n                        <select className=\"selecionaCartao\" required value={selecionaCartao}\r\n                        onChange= {e => setSelecionaCartao(e.target.value)}>\r\n                                    <option>Selecione um cartão</option>\r\n                                    {cards.map((card, i) => {\r\n                                        return (\r\n                                        <option key={'opcaoCartao' + i}\r\n                                        value={i}>Cartão com final {card.card_number.substr(-4)}\r\n                                        </option>)\r\n                                    })}\r\n                                </select>\r\n                                \r\n                        <button className=\"botaoEnviar\" onClick={()=> setShowModal(false)}>Pagar</button>\r\n                    </form>\r\n                </div>\r\n\r\n    {/*Modal de Resultado*/}\r\n            <div className=\"modalResult\" style={{display : (showTransacao ? 'block' : 'none')}}>\r\n                <div className=\"titulo\">\r\n                        <span className=\"cabecalho\">Recibo de pagamento</span>\r\n                </div>\r\n                <div>\r\n                    <span className=\"resultTransacao\">{transacao}</span>\r\n                </div>\r\n        </div>\r\n\r\n{/*Lista de usuários*/}\r\n            <ul style={{margin:'0', padding:'0'}}>\r\n            {usuarios.map((u, index) => {\r\n                return (\r\n                    <li key={'user-'+ index}>\r\n                        <div className={'users'}>\r\n                                <img src={u.img}></img>\r\n                            <div className={'dados'}>\r\n                                <div id={'uname'}>\r\n                                    {u.name}\r\n                                </div>\r\n                                <div className={'dadosUsuario'}>\r\n                                    ID: {u.id} - Username: {u.username}\r\n                                </div>\r\n                            </div>\r\n                        </div>    \r\n                        <button data-index={index} onClick={()=> mostraModal(u)}>Pagar</button>\r\n                </li>\r\n                )\r\n            })}\r\n            </ul>\r\n        </div>\r\n        </>\r\n    )\r\n}\r\n\r\n","import React from 'react'\r\nimport ReactDOM from 'react-dom'\r\nimport App from './App'\r\n\r\nReactDOM.render(\r\n    <React.StrictMode>\r\n      <App />\r\n    \r\n    </React.StrictMode>,\r\n    document.getElementById('root')\r\n    );"],"sourceRoot":""}